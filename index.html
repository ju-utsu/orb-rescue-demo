<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VR Orb Collector</title>
    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
    <style>
      #startBtn {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 15px 30px;
        font-size: 24px;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        z-index: 10;
      }
    </style>
  </head>
  <body>
    <button id="startBtn">Start Demo</button>

    <a-scene embedded vr-mode-ui="enabled: true">
      <!-- Sky and Lighting -->
      <a-sky color="#000"></a-sky>
      <a-entity light="type: ambient; color: #888"></a-entity>
      <a-entity light="type: point; intensity: 1.5" position="0 5 0"></a-entity>

      <!-- Ground -->
      <a-plane color="#333" rotation="-90 0 0" width="50" height="50"></a-plane>

      <!-- Camera -->
      <a-entity id="player" camera look-controls wasd-controls position="0 1.6 0"></a-entity>

      <!-- Background Music -->
      <a-entity id="bg-music" sound="src: url('https://cdn.pixabay.com/audio/2021/08/04/audio_911d1f1d8b.mp3'); autoplay: false; loop: true;"></a-entity>
    </a-scene>

    <script>
      const startBtn = document.getElementById('startBtn');
      const scene = document.querySelector('a-scene');
      const bgMusic = document.getElementById('bg-music');

      // Function to create orbs
      function spawnOrbs(count) {
        for (let i = 0; i < count; i++) {
          const orb = document.createElement('a-sphere');
          const angle = Math.random() * Math.PI * 2;
          const distance = 3 + Math.random() * 3; // 3â€“6 meters
          const x = Math.cos(angle) * distance;
          const z = Math.sin(angle) * distance;
          orb.setAttribute('position', `${x} 1.5 ${z}`);
          orb.setAttribute('radius', '0.3');
          orb.setAttribute('color', getRandomColor());
          orb.setAttribute('class', 'collectible');
          orb.setAttribute('animation', 'property: rotation; to: 0 360 0; loop: true; dur: 2000');
          scene.appendChild(orb);
        }
      }

      // Random bright color
      function getRandomColor() {
        const colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF'];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      // Start button logic
      startBtn.addEventListener('click', () => {
        startBtn.style.display = 'none';
        spawnOrbs(10); // Spawn 10 orbs initially

        // Start background music
        bgMusic.components.sound.playSound();
      });
    </script>
  </body>
  </html>

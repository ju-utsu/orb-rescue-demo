<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Neon Grid VR Game</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: 'Orbitron', sans-serif;
      background: #000;
      color: #0ff;
    }
    .menu-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #000;
      z-index: 10;
    }
    .menu {
      background: rgba(0, 0, 0, 0.7);
      border: 3px solid #0ff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 30px #0ff;
      text-align: center;
    }
    .menu h1 {
      font-size: 2.5em;
      color: #0ff;
      margin-bottom: 20px;
    }
    .menu input, .menu select {
      background: #000;
      border: 2px solid #0ff;
      color: #0ff;
      padding: 8px;
      margin: 10px 0;
      width: 100%;
      font-size: 1em;
      text-align: center;
    }
    .menu button {
      background: #0ff;
      color: #000;
      padding: 10px 20px;
      margin-top: 15px;
      border: none;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .menu button:hover {
      background: #000;
      color: #0ff;
      border: 2px solid #0ff;
    }
    a-scene {
      display: none;
    }
    .scoreboard {
      position: absolute;
      top: 10px;
      left: 10px;
      color: #0ff;
      font-size: 1.5em;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border: 2px solid #0ff;
      border-radius: 8px;
      display: none;
      z-index: 5;
    }
  </style>
</head>
<body>
  <div class="menu-container" id="menu">
    <div class="menu">
      <h1>NEON GRID VR</h1>
      <label>Number of Orbs:</label>
      <input type="number" id="orbCount" value="10" min="1" max="50" />
      <label>Spawn Interval (ms):</label>
      <input type="number" id="spawnInterval" value="3000" min="500" />
      <label>Difficulty:</label>
      <select id="difficulty">
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
      </select>
      <button onclick="startGame()">Start Game</button>
    </div>
  </div>

  <div class="scoreboard" id="scoreboard">Score: 0</div>

  <a-scene id="vrScene" vr-mode-ui="enabled: true">
    <a-assets>
      <a-asset-item id="orbModel" src="https://cdn.aframe.io/test-models/models/gltf/PrimaryIonThruster.glb"></a-asset-item>
    </a-assets>

    <a-sky color="#000"></a-sky>

    <a-entity position="0 1.6 0">
      <a-camera look-controls></a-camera>
    </a-entity>

    <a-plane rotation="-90 0 0" width="50" height="50" color="#111" material="wireframe: true; color: #0ff"></a-plane>
  </a-scene>

  <script>
    let score = 0;
    let orbCount;
    let spawnInterval;
    let difficulty;
    let spawnedOrbs = 0;
    let spawnTimer;

    function startGame() {
      orbCount = parseInt(document.getElementById('orbCount').value);
      spawnInterval = parseInt(document.getElementById('spawnInterval').value);
      difficulty = document.getElementById('difficulty').value;

      document.getElementById('menu').style.display = 'none';
      document.querySelector('a-scene').style.display = 'block';
      document.getElementById('scoreboard').style.display = 'block';

      startSpawning();
    }

    function startSpawning() {
      spawnTimer = setInterval(() => {
        if (spawnedOrbs >= orbCount) {
          clearInterval(spawnTimer);
          return;
        }
        spawnOrb();
        spawnedOrbs++;
      }, spawnInterval);
    }

    function spawnOrb() {
      const scene = document.querySelector('a-scene');
      const orb = document.createElement('a-entity');
      const x = Math.random() * 10 - 5;
      const y = 1.6;
      const z = -Math.random() * 10 - 3;

      orb.setAttribute('gltf-model', '#orbModel');
      orb.setAttribute('position', `${x} ${y} ${z}`);
      orb.setAttribute('scale', '0.5 0.5 0.5');

      orb.setAttribute('class', 'orb');
      orb.setAttribute('look-at', '[camera]');

      orb.addEventListener('mouseenter', () => {
        score++;
        document.getElementById('scoreboard').innerText = `Score: ${score}`;
        scene.removeChild(orb);
      });

      scene.appendChild(orb);
    }
  </script>
</body>
</html>
